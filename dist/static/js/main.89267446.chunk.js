(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{336:function(e,t,a){},337:function(e,t,a){},368:function(e,t,a){e.exports=a(662)},614:function(e,t,a){},645:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(88),l=a.n(o),i=a(35),c=a(89),s=a(27),u=a(45),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOARD":return console.log("created board",t.board),e;case"ADD_BOARD_ERROR":return console.log("add board error",t.err),e;case"DELETE_BOARD":return console.log("deleted board",t.id),e;case"DELETE_BOARD_ERROR":return console.log("delete board error",t.err),e;case"UPDATE_BOARD":return console.log("updated board",t.board),e;case"UPDATE_BOARD_NOTES":return console.log("updated board notes",t.notes),e;default:return e}},m=a(128),E=a(68),h=a(70),f={authLoginError:null,authSignupError:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(h.a)({},e,{authLoginError:t.err.message});case"LOGIN_SUCCESS":return console.log("login success"),Object(h.a)({},e,{authLoginError:null});case"SIGNOUT_SUCCESS":return console.log("signup success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(h.a)({},e,{authSignupError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(h.a)({},e,{authSignupError:t.err.message});default:return e}},g=Object(u.c)({auth:b,boards:d,firestore:m.firestoreReducer,firebase:E.firebaseReducer}),p=a(339),N=a(182),v=a.n(N);a(608),a(612);v.a.initializeApp({apiKey:"AIzaSyAbCNTz2QCc9uYoLFVyhAkHENQ7WUK0oqU",authDomain:"postit-a38b6.firebaseapp.com",databaseURL:"https://postit-a38b6.firebaseio.com",projectId:"postit-a38b6",storageBucket:"postit-a38b6.appspot.com",messagingSenderId:"514224469915"}),v.a.firestore();var O=v.a;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(614);var C=a(356),S=a(93),A=a(663),j=Object(s.b)(function(e){return console.log(e.firestore),{profile:e.firebase.profile}},function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){var t=e.profile;return r.a.createElement(C.a.Menu,{position:"right"},r.a.createElement(C.a.Item,null,r.a.createElement(i.c,{to:"/profile"},r.a.createElement(S.a,{circular:!0,name:"user"}),t.initials)),r.a.createElement(C.a.Item,null,r.a.createElement(A.a,{className:"logOuBtn",onClick:function(){return e.signOut(),r.a.createElement(c.a,{to:"/"})},size:"big",color:"green",inverted:!0},r.a.createElement(S.a,{name:"power off"}),"Log Out")))}),R=function(){return r.a.createElement(C.a.Item,{position:"right"},r.a.createElement(i.c,{to:"/signin"},r.a.createElement(A.a,{size:"big",color:"green",inverted:!0},r.a.createElement(S.a,{name:"user outline"}),"Log in")))},y=Object(s.b)(function(e){return{auth:e.firebase.auth}})(function(e){var t=e.auth.uid?r.a.createElement(j,null):r.a.createElement(R,null);return r.a.createElement(C.a,{size:"huge"},r.a.createElement(C.a.Item,null,r.a.createElement(i.b,{to:"/"},r.a.createElement(S.a,{name:"home"}),"Home")),r.a.createElement(C.a.Item,null,r.a.createElement(i.b,{to:"wall"},r.a.createElement(S.a,{name:"table"}),"Wall")),t)}),D=a(357),B=a(109),w=a.n(B),F=a(677),I=a(671),U=(a(645),function(e){return r.a.createElement(F.a,{className:"Note"},r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Header,null,e.title),r.a.createElement(F.a.Meta,null,r.a.createElement("span",{className:"date"},w()(e.createdAt.toDate()).calendar())),r.a.createElement(I.a,null),r.a.createElement(F.a.Description,null,e.text)),r.a.createElement(A.a,{animated:!0,basic:!0,onClick:function(){return e.onDeleteNote(e.id)}},r.a.createElement(A.a.Content,{visible:!0},r.a.createElement(S.a,{name:"trash"})),r.a.createElement(A.a.Content,{hidden:!0},"Remove")))}),_=a(58),k=a(59),T=a(61),L=a(60),P=a(62),x=a(678),z=a(676),G=a(675),W=a(672),H=a(673),M=function(e){return r.a.createElement(G.a,null,r.a.createElement(G.a.Field,null,r.a.createElement("label",null,"Title"),r.a.createElement(W.a,{onChange:e.changeNoteTitle,placeholder:"Title"})),r.a.createElement(G.a.Field,null,r.a.createElement(H.a,{onChange:e.changeNoteTxt,placeholder:"What is worth remembering?"})),r.a.createElement(A.a,{onClick:e.onAddNote,size:"big",color:"green",inverted:!0},"Submit"))},J=a(679),K=(a(336),function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(T.a)(this,Object(L.a)(t).call(this))).changeNoteTitle=function(e){a.setState({title:e.target.value})},a.changeNoteTxt=function(e){a.setState({text:e.target.value})},a.onAddNote=function(e){e.preventDefault(),a.props.addNote(a.state)},a.state={title:"",text:"",createdAt:new Date},a}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Creator"},r.a.createElement(J.a,{icon:"add",content:"Add new note"}),r.a.createElement(z.a.Content,null,r.a.createElement(M,{changeNoteTitle:this.changeNoteTitle,changeNoteTxt:this.changeNoteTxt,onAddNote:this.onAddNote})))}}]),t}(n.Component)),Q=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.handleHideClick=function(){return a.setState({visible:!1})},a.handleShowClick=function(){return a.setState({visible:!0})},a.handleSidebarHide=function(){return a.setState({visible:!1})},a}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state.visible;return r.a.createElement("div",null,r.a.createElement(A.a,{circular:!0,floated:"left",disabled:e,onClick:this.handleShowClick},r.a.createElement(S.a,{name:"angle left"})),r.a.createElement(x.a,{as:C.a,animation:"overlay",icon:"labeled",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:e},r.a.createElement(C.a.Item,{as:"a"},r.a.createElement(A.a,{primary:!0,onClick:this.props.onDeleteBoard},r.a.createElement(S.a,{name:"remove circle"}),"Delete board")),r.a.createElement(C.a.Item,{as:"a"},r.a.createElement(A.a,{primary:!0,onClick:this.props.deleteAllNotes},r.a.createElement(S.a,{name:"delete"}),"Remove notes")),r.a.createElement(C.a.Item,null,r.a.createElement(z.a,{trigger:r.a.createElement(A.a,{primary:!0},r.a.createElement(S.a,{name:"plus circle"}),"Add Note"," "),size:"tiny",centered:!1,dimmer:"blurring"},r.a.createElement(K,{addNote:this.props.addNote})))))}}]),t}(n.Component),q=(a(654),Object(s.b)(function(e,t){var a=t.id;return{board:e.firestore.ordered.boards.find(function(e){return e.id===a}),id:a}},function(e){return{updateBoard:function(t){e(function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("boards").doc(e.id).update({board:e}).then(function(){t({type:"UPDATE_BOARD",board:e})}).catch(function(e){t({type:"UPDATE_BOARD_ERROR",err:e})})}}(t))},updateBoardNotes:function(t,a){e(function(e,t){return function(a,n,r){r.getFirebase,(0,r.getFirestore)().collection("boards").doc(t).update({notes:e}).then(function(){a({type:"UPDATE_BOARD_NOTES",notes:e})}).catch(function(e){a({type:"UPDATE_BOARD_ERROR",err:e})})}}(t,a))}}})(function(e){var t=function(t){var a=e.board.notes.slice();a.splice(t,1),e.updateBoardNotes(a,e.id)};return r.a.createElement("div",{className:"Board"},r.a.createElement(Q,{onDeleteBoard:function(){var t=e.id;e.deleteBoard(t)},deleteAllNotes:function(){var t=e.board.notes.slice();t.splice(0,t.length),e.updateBoardNotes(t,e.id)},addNote:function(t){var a=Object(h.a)({},e.board);a.notes=[].concat(Object(D.a)(a.notes),[t]),e.updateBoardNotes(a.notes,e.id)}}),r.a.createElement("div",null,"Created: ",w()(e.board.createdAt.toDate()).calendar()," by"," ",e.board.authorFirstName," ",e.board.authorLastName),r.a.createElement("div",{className:"NotesList"},r.a.createElement(F.a.Group,null,e.board&&e.board.notes.map(function(e,a){return r.a.createElement(U,Object.assign({},e,{key:a,id:a,onDeleteNote:t}))}))))})),V=function(e){return r.a.createElement(G.a,null,r.a.createElement(G.a.Field,null,r.a.createElement("label",null,"Board name"),r.a.createElement(W.a,{onChange:e.changeBoardName,placeholder:"Title"})),r.a.createElement(A.a,{onClick:e.onAddBoard,size:"big",color:"green",inverted:!0},"Submit"))},Y=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(T.a)(this,Object(L.a)(t).call(this))).changeBoardName=function(e){a.setState({name:e.target.value})},a.onAddBoard=function(e){e.preventDefault(),a.props.addBoard(a.state)},a.state={name:"",notes:[]},a}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Creator"},r.a.createElement(J.a,{icon:"add",content:"Add new board"}),r.a.createElement(z.a.Content,null,r.a.createElement(V,{changeBoardName:this.changeBoardName,onAddBoard:this.onAddBoard})),r.a.createElement("br",null))}}]),t}(n.Component),$=a(236),X=(a(655),function(e){var t=e.notifications;return r.a.createElement($.a,null,r.a.createElement(J.a,{as:"h2"},"Notifications"),r.a.createElement("div",{className:"Notifications"},t&&t.map(function(e){return r.a.createElement("div",{className:"Notification",key:e.id},r.a.createElement("span",{className:"Author"},e.user," "),r.a.createElement("span",null,e.content),r.a.createElement("div",null,w()(e.time.toDate()).fromNow()))})))}),Z=a(130),ee=a(680),te=(a(337),Object(u.d)(Object(s.b)(function(e){return console.log(e),{boards:e.firestore.ordered.boards,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}},function(e){return{addBoard:function(t){e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),o=a().firebase.profile,l=a().firebase.auth.uid;r.collection("boards").add(Object(h.a)({},e,{authorFirstName:o.firstName,authorLastName:o.lastName,authorId:l,createdAt:new Date})).then(function(){t({type:"ADD_BOARD",board:e})}).catch(function(e){t({type:"ADD_BOARD_ERROR",err:e})})}}(t))},deleteBoard:function(t){e(function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("boards").doc(e).delete().then(function(){t({type:"DELETE_BOARD",id:e})}).catch(function(e){t({type:"DELETE_BOARD_ERROR",err:e})})}}(t))}}}),Object(E.firestoreConnect)([{collection:"boards",orderBy:["createdAt","desc"]},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(function(e){var t=e.boards,a=e.auth,n=e.notifications,o=t&&t.map(function(e){return{menuItem:r.a.createElement(C.a.Item,{key:e.id},e.name,r.a.createElement(Z.a,{circular:!0,color:"blue"},e.notes.length)),render:function(){return r.a.createElement(ee.a.Pane,null,r.a.createElement(q,{id:e.id,key:e.id,deleteBoard:l}))}}}),l=function(t){e.deleteBoard(t)};return a.uid?r.a.createElement("div",{className:"Wall"},r.a.createElement("div",{className:"WallNav"},r.a.createElement(z.a,{trigger:r.a.createElement(A.a,{primary:!0},r.a.createElement(S.a,{name:"add"}),"Add Board"),size:"tiny",centered:!1,dimmer:"blurring"},r.a.createElement(Y,{addBoard:function(t){e.addBoard(t)}}))),r.a.createElement("div",{className:"TabContainer"},t&&t.length<1?r.a.createElement("h2",null,"No boards to show. Please create board to continue fun!"):r.a.createElement(ee.a,{menu:{secondary:!0,pointing:!0,className:"Wrapped"},panes:o})),r.a.createElement(X,{className:"Notifications",notifications:n})):r.a.createElement(c.a,{to:"signin"})})),ae=(a(657),function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"HomeInfo"},r.a.createElement("h1",null,"Post-it"),r.a.createElement("h2",null,"Create Boards ",r.a.createElement("br",null),"add notes...",r.a.createElement("br",null))))}),ne=a(674),re=a(358),oe=(a(658),a(108)),le=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(T.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){e.setState(Object(oe.a)({},t.target.id,t.target.value))},e.signIn=function(t){t.preventDefault(),e.props.signIn(e.state)},e.state={email:"",password:""},e}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(c.a,{to:"/"}):r.a.createElement(ne.a,{className:"SignIn"},r.a.createElement(G.a,{size:"large",onSubmit:this.signIn},r.a.createElement("h2",null,"Sign In"),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement(A.a,{onClick:this.signIn,size:"big",color:"green",inverted:!0},"Sign In"),r.a.createElement("br",null),r.a.createElement("div",{className:"Error"},t?r.a.createElement("p",{color:"red"}," ",t," "):null)))}}]),t}(n.Component),ie=Object(s.b)(function(e){return{authError:e.auth.authLoginError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(le),ce=(a(659),function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(T.a)(this,Object(L.a)(t).call(this))).toggleSignUp=function(){e.setState({signUpMode:!e.signUpMode})},e.handleChange=function(t){e.setState(Object(oe.a)({},t.target.id,t.target.value))},e.signIn=function(t){t.preventDefault(),e.props.signUp(e.state)},e.state={email:"",password:"",firstName:"",lastName:"",signUpMode:!1},e}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(c.a,{to:"/"}):this.state.signUpMode?r.a.createElement(ne.a,{className:"Sign"},r.a.createElement(G.a,{size:"large",onSubmit:this.signIn},r.a.createElement("h2",null,"Sign Up"),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement(G.a.Field,null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement(A.a,{size:"big",color:"green",inverted:!0},"Sign Up"),r.a.createElement("div",{className:"Error"},a?r.a.createElement("p",null," ",a):null))):r.a.createElement(A.a,{onClick:this.toggleSignUp,content:"Sign up",icon:"signup",size:"big"})}}]),t}(n.Component)),se=Object(s.b)(function(e){return console.log(e),{authError:e.auth.authSignupError,auth:e.firebase.auth}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,o=n.getFirestore,l=r(),i=o();l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(ce),ue=function(){return r.a.createElement(ne.a,{className:"Sign"},r.a.createElement($.a,{placeholder:!0},r.a.createElement(re.a,{columns:2,relaxed:"very",stackable:!0,verticalAlign:"middle"},r.a.createElement(re.a.Column,null,r.a.createElement(ie,null)),r.a.createElement(re.a.Column,{verticalAlign:"middle"},r.a.createElement(se,null))),r.a.createElement(I.a,{vertical:!0},"Or")))},de=Object(u.d)(Object(s.b)(function(e){return{profile:e.firebase.profile}}),Object(E.firestoreConnect)([{collection:"boards"}]))(function(e){var t=e.profile;return r.a.createElement("div",{className:"Wall"},r.a.createElement("h2",null,t.firstName," ",t.lastName),r.a.createElement("div",{className:""}))}),me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:ae}),r.a.createElement(c.b,{path:"/wall",component:te}),r.a.createElement(c.b,{path:"/signin",component:ue}),r.a.createElement(c.b,{path:"/profile",component:de})))},Ee=(a(660),a(661),Object(u.e)(g,Object(u.d)(Object(u.a)(p.a.withExtraArgument({getFirebase:E.getFirebase,getFirestore:m.getFirestore})),Object(m.reduxFirestore)(O),Object(E.reactReduxFirebase)(O,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}))));Ee.firebaseAuthIsReady.then(function(){l.a.render(r.a.createElement(s.a,{store:Ee},r.a.createElement(i.a,null,r.a.createElement(c.b,{path:"/",component:me}))),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[368,1,2]]]);
//# sourceMappingURL=main.89267446.chunk.js.map